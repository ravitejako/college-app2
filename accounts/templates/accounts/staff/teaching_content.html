{% extends 'base.html' %}
{% load static %}

{% block title %}Teaching Content Management{% endblock %}

{% block staff_content %}
<div class="container">
    <div class="row mb-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">
                        <i class="fas fa-book me-2"></i> Teaching Content
                    </h5>
                    <div>
                        <button class="btn btn-light btn-sm" data-bs-toggle="modal" data-bs-target="#uploadContentModal">
                            <i class="fas fa-upload me-1"></i> Upload Content
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <div class="mb-4">
                        <div class="row g-2">
                            <div class="col-md-3">
                                <select class="form-select" id="subjectFilter">
                                    <option value="">All Subjects</option>
                                    <option value="cs101">Computer Science 101</option>
                                    <option value="db203">Database Systems</option>
                                    <option value="net305">Computer Networks</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <select class="form-select" id="typeFilter">
                                    <option value="">All Content Types</option>
                                    <option value="lecture">Lecture Notes</option>
                                    <option value="assignment">Assignments</option>
                                    <option value="video">Videos</option>
                                    <option value="reference">Reference Materials</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <select class="form-select" id="statusFilter">
                                    <option value="">All Status</option>
                                    <option value="published">Published</option>
                                    <option value="draft">Draft</option>
                                    <option value="archived">Archived</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <div class="input-group">
                                    <input type="text" class="form-control" placeholder="Search content...">
                                    <button class="btn btn-outline-secondary" type="button">
                                        <i class="fas fa-search"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Content Management Table -->
                    <div class="table-responsive">
                        <table class="table table-hover align-middle">
                            <thead>
                                <tr>
                                    <th>Content Title</th>
                                    <th>Subject</th>
                                    <th>Type</th>
                                    <th>Size</th>
                                    <th>Date Uploaded</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="d-flex align-items-center">
                                            <span class="badge bg-danger me-2"><i class="fas fa-file-pdf"></i></span>
                                            <div>
                                                <div><strong>Introduction to Programming</strong></div>
                                                <div class="text-muted small">Lecture 1 Slides</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Computer Science 101</td>
                                    <td>Lecture Notes</td>
                                    <td>2.4 MB</td>
                                    <td>Mar 15, 2025</td>
                                    <td><span class="badge bg-success">Published</span></td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-primary me-1" data-bs-toggle="tooltip" title="View Content">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-secondary me-1" data-bs-toggle="tooltip" title="Edit Details">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger" data-bs-toggle="tooltip" title="Archive">
                                            <i class="fas fa-archive"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="d-flex align-items-center">
                                            <span class="badge bg-primary me-2"><i class="fas fa-file-word"></i></span>
                                            <div>
                                                <div><strong>Assignment 1: Database Design</strong></div>
                                                <div class="text-muted small">First assignment document</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Database Systems</td>
                                    <td>Assignment</td>
                                    <td>1.2 MB</td>
                                    <td>Mar 16, 2025</td>
                                    <td><span class="badge bg-success">Published</span></td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-primary me-1" data-bs-toggle="tooltip" title="View Content">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-secondary me-1" data-bs-toggle="tooltip" title="Edit Details">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger" data-bs-toggle="tooltip" title="Archive">
                                            <i class="fas fa-archive"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="d-flex align-items-center">
                                            <span class="badge bg-info me-2"><i class="fas fa-file-video"></i></span>
                                            <div>
                                                <div><strong>Network Protocol Demonstration</strong></div>
                                                <div class="text-muted small">Video tutorial</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Computer Networks</td>
                                    <td>Video</td>
                                    <td>85.4 MB</td>
                                    <td>Mar 17, 2025</td>
                                    <td><span class="badge bg-warning text-dark">Draft</span></td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-primary me-1" data-bs-toggle="tooltip" title="View Content">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-secondary me-1" data-bs-toggle="tooltip" title="Edit Details">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-success" data-bs-toggle="tooltip" title="Publish">
                                            <i class="fas fa-check"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="d-flex align-items-center">
                                            <span class="badge bg-success me-2"><i class="fas fa-link"></i></span>
                                            <div>
                                                <div><strong>Database Design Resources</strong></div>
                                                <div class="text-muted small">External reference links</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Database Systems</td>
                                    <td>Reference Materials</td>
                                    <td>N/A</td>
                                    <td>Mar 18, 2025</td>
                                    <td><span class="badge bg-success">Published</span></td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-primary me-1" data-bs-toggle="tooltip" title="View Content">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-secondary me-1" data-bs-toggle="tooltip" title="Edit Details">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger" data-bs-toggle="tooltip" title="Archive">
                                            <i class="fas fa-archive"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Content Analytics -->
    <div class="row">
        <div class="col-md-6 mb-4">
            <div class="card">
                <div class="card-header bg-light">
                    <h6 class="mb-0">Content Usage Analytics</h6>
                </div>
                <div class="card-body">
                    <div class="mb-4">
                        <div class="d-flex justify-content-between mb-1">
                            <span>Introduction to Programming</span>
                            <span>85%</span>
                        </div>
                        <div class="progress" style="height: 8px;">
                            <div class="progress-bar bg-success" role="progressbar" style="width: 85%;" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <div class="text-muted small mt-1">25 of 30 students viewed</div>
                    </div>
                    <div class="mb-4">
                        <div class="d-flex justify-content-between mb-1">
                            <span>Assignment 1: Database Design</span>
                            <span>60%</span>
                        </div>
                        <div class="progress" style="height: 8px;">
                            <div class="progress-bar bg-warning" role="progressbar" style="width: 60%;" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <div class="text-muted small mt-1">18 of 30 students viewed</div>
                    </div>
                    <div>
                        <div class="d-flex justify-content-between mb-1">
                            <span>Network Protocol Demonstration</span>
                            <span>0%</span>
                        </div>
                        <div class="progress" style="height: 8px;">
                            <div class="progress-bar bg-secondary" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <div class="text-muted small mt-1">Draft - not yet published</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-md-6 mb-4">
            <div class="card">
                <div class="card-header bg-light">
                    <h6 class="mb-0">Recent Activity</h6>
                </div>
                <div class="card-body p-0">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">
                            <div class="d-flex align-items-center">
                                <span class="badge bg-success me-3">
                                    <i class="fas fa-upload"></i>
                                </span>
                                <div>
                                    <div>Uploaded "Network Protocol Demonstration"</div>
                                    <small class="text-muted">Today at 10:30 AM</small>
                                </div>
                            </div>
                        </li>
                        <li class="list-group-item">
                            <div class="d-flex align-items-center">
                                <span class="badge bg-primary me-3">
                                    <i class="fas fa-edit"></i>
                                </span>
                                <div>
                                    <div>Updated "Assignment 1: Database Design"</div>
                                    <small class="text-muted">Yesterday at 3:15 PM</small>
                                </div>
                            </div>
                        </li>
                        <li class="list-group-item">
                            <div class="d-flex align-items-center">
                                <span class="badge bg-danger me-3">
                                    <i class="fas fa-archive"></i>
                                </span>
                                <div>
                                    <div>Archived "Old Programming Reference"</div>
                                    <small class="text-muted">Mar 18, 2025</small>
                                </div>
                            </div>
                        </li>
                        <li class="list-group-item">
                            <div class="d-flex align-items-center">
                                <span class="badge bg-info me-3">
                                    <i class="fas fa-eye"></i>
                                </span>
                                <div>
                                    <div>15 new views on "Introduction to Programming"</div>
                                    <small class="text-muted">Mar 17, 2025</small>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Upload Content Modal -->
<div class="modal fade" id="uploadContentModal" tabindex="-1" aria-labelledby="uploadContentModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="uploadContentModalLabel">Upload Teaching Content</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label for="contentTitle" class="form-label">Content Title</label>
                        <input type="text" class="form-control" id="contentTitle" required>
                    </div>
                    <div class="mb-3">
                        <label for="contentDescription" class="form-label">Description</label>
                        <textarea class="form-control" id="contentDescription" rows="3"></textarea>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="contentSubject" class="form-label">Subject</label>
                            <select class="form-select" id="contentSubject" required>
                                <option value="" selected disabled>Select subject</option>
                                <option value="cs101">Computer Science 101</option>
                                <option value="db203">Database Systems</option>
                                <option value="net305">Computer Networks</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="contentType" class="form-label">Content Type</label>
                            <select class="form-select" id="contentType" required>
                                <option value="" selected disabled>Select type</option>
                                <option value="lecture">Lecture Notes</option>
                                <option value="assignment">Assignment</option>
                                <option value="video">Video</option>
                                <option value="reference">Reference Materials</option>
                            </select>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="contentFile" class="form-label">Upload File</label>
                        <input type="file" class="form-control" id="contentFile">
                    </div>
                    <div class="mb-3">
                        <label for="contentStatus" class="form-label">Initial Status</label>
                        <select class="form-select" id="contentStatus">
                            <option value="draft">Draft (not visible to students)</option>
                            <option value="published">Published (visible to students)</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary">Upload Content</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Initialize tooltips
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl)
    })
</script>
{% endblock %} 